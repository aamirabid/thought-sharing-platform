<div class="container-fluid py-4">
  <div class="row mt-2">
    <div class="col-12">
      <div class="card my-4">
        <div class="card-header p-0 position-relative mt-n4 mx-3 z-index-2">
          <div
            class="bg-gradient-primary shadow-primary border-radius-lg pt-4 pb-3"
          >
            <h6 class="text-white text-capitalize ps-3" *ngIf="!this.note">
              Add Note
            </h6>
            <h6 class="text-white text-capitalize ps-3" *ngIf="this.note">
              Update Note
            </h6>
          </div>
        </div>
        <div class="card-body pb-2">
          <form
            [formGroup]="this.createOrUpdateForm"
            role="form"
            class="text-start"
            (ngSubmit)="this.createOrUpdateNote(this.id ?? '')"
          >
            <div
              class="text-danger"
              *ngIf="
                this.createOrUpdateForm.get('title')?.invalid &&
                (this.createOrUpdateForm.get('title')?.dirty ||
                  this.createOrUpdateForm.get('title')?.touched)
              "
            >
              Title must be minimum 3 characters long.
            </div>
            <div class="input-group input-group-outline my-3">
              <input
                type="text"
                class="form-control"
                placeholder="Title"
                formControlName="title"
              />
            </div>

            <div
              class="text-danger"
              *ngIf="
                this.createOrUpdateForm.get('body')?.invalid &&
                (this.createOrUpdateForm.get('body')?.dirty ||
                  this.createOrUpdateForm.get('body')?.touched)
              "
            >
              Body must be minimum 5 characters long.
            </div>
            <div class="input-group input-group-outline my-3">
              <textarea
                class="form-control"
                cols="30"
                rows="10"
                placeholder="body"
                formControlName="body"
              ></textarea>
            </div>
            <div class="input-group input-group-outline my-3">
              <mat-form-field class="note-tags" appearance="fill">
                <mat-label>Tags</mat-label>
                <mat-chip-grid #chipGrid aria-label="Enter fruits">
                  <mat-chip-row
                    *ngFor="let tag of tags"
                    (removed)="remove(tag)"
                    [editable]="true"
                    (edited)="edit(tag, $event)"
                    [aria-description]="'press enter to edit ' + tag"
                  >
                    {{ tag }}
                    <button
                      matChipRemove
                      [attr.aria-label]="'remove ' + tag"
                    >
                      <mat-icon>cancel</mat-icon>
                    </button>
                  </mat-chip-row>
                  <input
                    placeholder="Tags"
                    [matChipInputFor]="chipGrid"
                    [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                    [matChipInputAddOnBlur]="addOnBlur"
                    (matChipInputTokenEnd)="add($event)"
                  />
                </mat-chip-grid>
              </mat-form-field>
            </div>

            <div
              class="text-danger"
              *ngIf="
                this.createOrUpdateForm.get('is_published')?.invalid &&
                (this.createOrUpdateForm.get('is_published')?.dirty ||
                  this.createOrUpdateForm.get('is_published')?.touched)
              "
            >
              Status required.
            </div>
            <div class="input-group input-group-outline my-3">
              <select formControlName="is_published" class="form-control">
                <option value="1">Published</option>
                <option value="0">Unpublished</option>
              </select>
            </div>
            <div class="text-center">
              <button
                type="submit"
                class="btn bg-gradient-primary w-100 my-4 mb-2"
              >
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
